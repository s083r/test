tree = {}
n = int(input())
for i in range(n):
   append_class = input()
   if ":" not in append_class:
      children = append_class
      tree[children] = []
   else:
      children, father = append_class.split(' :')
      father = father.split()
      tree[children] = []
      tree[children] += father
q = int(input())
for i in range(q):
    sample_output = input()
    father, children = sample_output.split()
    if tree.get(children):
        if father in tree[children] or father == children:
            print('Yes')
        else:
            search_father = tree[children]
            verified = []
            while search_father != []:
                for char in search_father:
                    if char not in verified:
                        if father in tree[char]:
                            print('Yes')
                            break
                        else:
                            search_father += tree[char]
                            verified += char
                            search_father.pop(0)
            print('No')
            break
    else:
        print('No')
